# This workflow will build a Java project with Gradle and push to GitHub container registry ..  
name: build and push image to github container registry

on:
  push:
    branches: [ main ]

  #Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jobs:
  infra:
    uses: vishalmamidi/workflows/.github/workflows/build-push-deploy.yaml@main
    secrets:
      AZURE_CREDENTIALS: ${{ secrets.AZURE_CREDENTIALS }}